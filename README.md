# 问题描述
一个逻辑表达式如果对于其变元的任一种取值都为真，则称重言式；反之，如果对于其变元的任一种取值都为假，则称矛盾式；其他情形称为可满足式。编写程序，判断逻辑表达式属于哪种情形。

# 设计要求
1. 建立逻辑二叉表达式树。
2. 写一程序，根据逻辑二叉表达式树对包括逻辑变量的逻辑表达式进行重言式判别。

# 第一次设计
第一次设计的目标是实现设计要求`(1)`：建立逻辑二叉表达式树。

第一次设计可分为如下五个部分：

1. 逻辑表达式定义
2. 输入设计
3. 合法性检验
4. 可算性检验
5. 错误输出
6. 建立逻辑二叉表达式树

下面就这六个部分展开叙述。

## 逻辑表达式定义
逻辑表达式与算术表达式类似，分成运算数、运算符、括号这三个部分。在本次设计中为了方便输入，认为运算数只能是单个大写字母或者逻辑常量`0`和`1`；运算符采取离散数学中最基础的五种运算符：非、合取、析取、蕴涵、等价，在表达式中用`!`、`&`、`|`、`->`、`<->`表示；所有的括号都使用圆括号。

## 输入设计
逻辑表达式输入时也是一个字符串，因此采用与魔王语言翻译中相同的链队列存储法，对所有长度的字符串都能兼容。同时对蕴涵运算符和等价运算符进行简化，`->`简化为`>`，`<->`简化为`=`，方便之后的处理。

## 合法性检验
输入的合法性是无法保证的，因此需要对输入的表达式进行合法性检验。

表达式应该满足如下性质，否则都是非法表达式：

- 不是空表达式
- 不包含非法字符
- 括号必须全部匹配
- 括号内必须有内容

这四种性质的检验非常简单，这里不再赘述。

## 可算性检验
就算输入合法了，也无法保证表达式能够计算出结果，因此需要对输入再进行一次可算性检验。

合法表达式应该满足如下性质，否则都无法计算出结果：

- 所有括号内的表达式都可算
- 所有运算符和运算数都被正确使用
- 运算符对应的运算数都可算

这三种性质的检验较为困难，下面展开叙述。

### 可算的基本单元
可算也是一种性质，必须定义基础单元，现定义以下表达式是可算的基本单元：

- 单个逻辑变量，如`A`
- 单个逻辑常量，如`0`和`1`

因此只要是单个逻辑运算数就是可算的。

### 运算符的正确使用
五种运算符都有自己的使用方法，正确使用的方法如下表：

| 运算符 | 使用方法 | 正确示例 | 错误示例 |
| :------: | :------: | :------: | :------: |
| `!` | 放在运算数的左侧 | `!A` | `A!` |
| `&` | 放在两个运算数的中间 | `A&B` | `AB&`、`A&` |
| `\|` | 放在两个运算数的中间 | `A\|B` | `AB\|`、`A\|` |
| `->` | 放在两个运算数的中间 | `A->B` | `AB->`、`A->` |
| `<->` | 放在两个运算数的中间 | `A<->B` | `AB<->`、`A<->` |

### 可算的递归性
可算是一种递归的性质，一个表达式的可算可以这么拆分：

1. 去掉表达式最外层的匹配括号
2. 寻找最后被运算的运算符(括号外，最靠右，优先级最低)
3. 如果找不到这样的运算符，就说明不可算
4. 如果找到的运算符没有被正确使用，就说明不可算
5. 否则检验其两侧的表达式是否可算，如果都可算，说明可算，否则不可算

可算的性质由子表达式决定，因此可算性检验的函数使用递归算法